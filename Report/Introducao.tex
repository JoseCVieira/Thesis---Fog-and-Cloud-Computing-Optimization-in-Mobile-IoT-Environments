\chapter{Introdução}\label{introducao}
Neste capítulo apresenta-se o contexto e a motivação que levaram ao desenvolvimento e realização de uma unidade de controlo e comando de automatismos. São apresentados também os principais objetivos e cenários de aplicação. A organização do documento e ainda as contribuições tecnológicas são também apresentadas no final do capítulo.
\section{Motivação e contexto}
Com o evoluir da sociedade, os cidadãos cada vez têm menos tempo e disposição para a realização de pequenas tarefas do seu dia-a-dia, quer estas sejam de âmbito pessoal ou familiar. Por exemplo, nas sociedades modernas, as pessoas muitas das vezes não têm disponibilidade temporal para chamar um técnico a casa e esperar que o trabalho termine ou, por exemplo, acionar o sistema de rega e esperar que este termine. Para além das questões relacionadas com a disponibilidade temporal dos cidadãos, por vezes também não existem interfaces que facilitem a execução de tarefas repetitivas, como é caso da ativação do sistema de aquecimento/arrefecimento da habitação quando se sai do trabalho, para que, ao chegar a casa, o cidadão encontre a temperatura desejada, ou de um sistema automático para abertura e fecho de estores a partir de um sensor de luminosidade ou ainda a ativação do sistema de rega tendo em conta a humidade do solo e não em horário de rega pré-definido. \\[6pt]
O avanço tecnológico verificado nos últimos anos, tem vindo a revolucionar, alguns aspetos da vida quotidiana dos cidadãos. O papel da evolução tecnológica é facilitar a vida dos cidadãos e conseguir proporcionar-lhes uma melhor gestão do seu tempo. Um exemplo prático desse papel da tecnologia é a possibilidade de utilizar um simples \textit{smartphone} para comunicar e trocar informações e documentos com pessoas do todo o mundo, consultar horários dos transportes, o trânsito, marcar consultas, fechar negócios, entre outros. Este desenvolvimento tecnológico nos dias de hoje, permite às pessoas interagir umas com as outras independentemente da distância, local e hora.\\[6pt]
No seguimento do avanço tecnológico foram desenvolvidos os \textit{smartphones}. A venda global deste tipo de dispositivos tem aumentado ao longo dos anos e a tendência é que este número cresça. Segundo o portal de estatísticas Statista, e como apresentado na figura \ref{fig:estatiscasmartphone}, o número de \textit{smartphones} existentes em todo o mundo em 2014 era de 1.57 mil milhões. Desde então até o presente ano, 2017, o número aumentou cerca de 0.75 mil milhões, apontando assim para os 2.32 mil milhões. Ainda, números estatísticos apontam para a existência de 2.87 mil milhões de dispositivos móveis \textit{smartphones} no ano de 2020. Isto significa que tendencialmente as pessoas compram este tipo de dispositivos e os levam consigo para todo o lado.\\[6pt]
A tecnologia que o mercado oferece para este tipo de sistemas é essencialmente composta por recetor de radiofrequência (RF) que ao receber o código de um comando remoto, faz acionar ou não o mecanismo, normalmente portões, consoante a sua existência em memória ou não. A segurança e robustez destes sistemas é ótima, contudo não conseguem a flexibilidade e adaptabilidade necessárias.\\[6pt]
\begin{figure}[H]
	\centering
	\includegraphics[clip, trim=0cm 1.5cm 0cm 1.5cm, width=0.71\linewidth]{Figuras/estatiscasmartphone}
	\caption{Número de utilizadores de \textit{smartphones} em todo o mundo entre 2014 e 2020 [\ref{estatiscasmart}].}
	\label{fig:estatiscasmartphone}
\end{figure}
Sendo o pedido de atuação realizado através de comandos remotos alimentados por uma pilha, a potência emitida é baixa para que esta dure bastante tempo (tipicamente 1 a 2 anos), pelo que a distância é relativamente baixa e não servirá para acionamentos a grandes distâncias.\\[6pt]
Outro ponto negativo destes sistemas é relativo às interfaces disponibilizadas. Estes, normalmente, não fazem uso de sensores externos ao sistema, isto é, os únicos sensores utilizados são internos, como é o caso dos sensores de infravermelhos para detetar objetos na trajetória da abertura/fecho do portão que farão comutar o estado de funcionamento dos motores. Contudo, se for necessário atuar o sistema por efeito de algum acontecimento (e.g., gerado por um sensor), não existe a interface. Para além disso o número de saídas é fixo e não escalável dependendo da finalidade. Isto trás implicações a nível do custo, pois, por vezes é necessário pagar por interfaces que não são utilizadas.\\[6pt]
Desta forma a existência de aplicações que tornam possíveis a realização de qualquer tipo de tarefas através de um simples \textit{click}, são importantes e do agrado dos utilizadores, oferecendo-lhes inúmeras vantagens, como por exemplo: o aumento de qualidade de vida, redução de custos de deslocamentos, diminuição de preocupações, maior tempo de lazer e convívio, entre outras.
\section{Objetivos}
Dentro do contexto referido na secção anterior, o trabalho apresentado neste projeto teve como objetivo geral a desenvolvimento e implementação de uma unidade central de controlo e comando (U3C), de baixo custo e elevada robustez para utilização em automatismos de portões residenciais e industriais. O sistema deve permitir o controlo local sem fios e remoto. Para isso, a U3C teria de permitir comunicações na banda \textit{industrial, scientific and medical} (ISM) dos 433 MHz e na banda do \textit{global system for mobile communications} (GSM). Desta forma a U3C é capaz de acionar portões, ou outros automatismos, de forma segura tanto da forma tradicional, via comando, como através de uma aplicação \textit{Android}, mudando assim o conceito típico de um recetor de portões. O módulo de alimentação de toda a unidade, a disponibilização das várias entradas para uso de sensores e de várias saídas para a atuação dos sistemas desejados teriam também de ser desenvolvidos.\\[6pt]
A U3C terá de funcionar em vários cenários de aplicação distintos. Na figura \ref{fig:cenarios} estão ilustrados alguns dos cenários de utilização, tendo estes sido definidos considerando as possíveis exigências de futuros clientes do sistema.\\[6pt]
\begin{figure}[H]
	\centering
	\begin{subfigure}{.33\textwidth}
		\centering
		\includegraphics[clip, trim=1.5cm 7cm 21cm 7cm, width=0.78\linewidth]{Figuras/cenario}
		\captionsetup{labelformat=empty}
		\caption{(a) Habitação individual.}
		\label{fig:cenariosa}
	\end{subfigure}%
	\begin{subfigure}{.33\textwidth}
		\centering
		\includegraphics[clip, trim=10.5cm 7cm 10.8cm 7cm, width=0.91\linewidth]{Figuras/cenario}
		\captionsetup{labelformat=empty}
		\caption{(b) Habitação coletiva.}
		\label{fig:cenariosb}
	\end{subfigure}
	\begin{subfigure}{.33\textwidth}
		\centering
		\includegraphics[clip, trim=20.5cm 7cm 1.7cm 7cm, width=0.805\linewidth]{Figuras/cenario}
		\captionsetup{labelformat=empty}
		\caption{(c) Pequena/média empresa.}
		\label{fig:cenariosc}
	\end{subfigure}
	\caption{Cenários de aplicação.}
	\label{fig:cenarios}
\end{figure}
Na ilustração mostrada na figura \ref{fig:cenariosa} o cenário de utilização é relativo a uma moradia individual em que o número de comandos remotos e dispositivos \textit{Android} é reduzido. Nesta tipologia de utilização os mecanismos a acionar serão portões, sistemas de iluminação, rega, entre outros. Neste caso o controlo das entradas e saídas não será o foco principal, no entanto terá de ter essa possibilidade. No caso de uma habitação coletiva ou de um condomínio, tal como mostrado na figura \ref{fig:cenariosb}, é importante a existência de um recetor universal, visto que existirão muitos utilizadores, com diferentes comandos remotos ou de fabricantes diferentes. Nesta situação é também importante, a utilização dos \textit{smartphones} para ativação dos automatismos ligados ao recetor universal, e a gravação do histórico dos acessos para segurança. Por último, na terceira situação (figura \ref{fig:cenariosc}) que corresponde ao caso de uma pequena/média empresa, onde o número de utilizadores pode ser elevado, poderá existir a necessidade de impor restrições de horários individuais ou coletivos que será gerido/controlado pelo administrador da U3C.

\section{Contribuições tecnológicas}
A unidade desenvolvida providencia a possibilidade do acionamento de mecanismos que se encontram ligados a esta de forma remota, tanto via comando RF como via aplicação \textit{Android} através de uma comunicação GSM.\\[6pt]
Na pesquisa inicial, que tinha como intuito a análise de várias unidades centrais existentes no mercado, foram abordadas unidades que implementam o acionamento via comando remoto, e outros via GSM (apenas uma marca), no entanto não houve conhecimento da existência de unidades com ambos os métodos de comunicação. Assim, o produto é considerado inovador e uma mais valia não só para a empresa Imporvia, melhorando o seu posicionamento a nível do mercado nacional e internacional deste ramo, bem como aos utilizadores, onde lhes são oferecidas inúmeras vantagens da sua utilização.

\section{Organização do documento}
Para que o objetivo principal fosse alcançado, foram estabelecidos vários objetivos específicos. Inicialmente, seria necessário realizar uma pesquisa de mercado para identificar os equipamentos existentes que dão resposta a este tipo de sistemas e a determinação das suas principais caraterísticas. Posteriormente, a analise dos cenários de aplicação em que a U3C se poderia enquadrar e a arquitetura necessária implementar para responder às suas possíveis exigências. Após este processo, seria cumprida a análise de mercado referente à tecnologia necessária para a implementação desta arquitetura, designadamente na vertente da engenharia: microcontroladores, módulos GSM, módulos transcetores de RF, memórias, fontes comutadas, relés, etc.\\[6pt]
Com esse trabalho elaborado seria desenvolvido a placa de circuito impresso (PCI) e as rotinas de programação da U3C para que pudesse cumprir os objetivos propostos. Finalmente, o projeto seria terminado com a elaboração de toda a sua documentação. Para isso a descrição do desenvolvimento e implementação da U3C é feito ao longo dos 6 capítulos deste relatório. No primeiro capítulo são introduzidos os temas principais do trabalho, fazendo-se o respetivo enquadramento, e apresentando-se objetivos, cenários de aplicação e as contribuições tecnológicas.\\[6pt]

No capítulo 2 são apresentados os sistemas de controlo de automatismos existentes no mercado atual e disponibilizados pelas marcas mais relevantes desta área técnica. As várias tecnologias, modos de funcionamento e as características técnicas desses sistemas comerciais são também discutidos. Para além disso, são apresentados e especificados os dois tipos de códigos mais utilizados neste tipo de sistemas. Ainda neste capítulo, é dada a conhecer a arquitetura do sistema, que inclui as especificações e funcionalidades da U3C, apresentando um diagrama modelar e respetiva descrição.\\[6pt]

O terceiro capítulo apresenta e descreve o desenvolvimento da U3C. Para cada módulo funcional interna da U3C é apresentado um diagrama funcional, é feita uma descrição das funcionalidades pretendidas, e apresentados os circuitos eletrónicos associados.
No capítulo 4 são dadas a conhecer as PCI desenvolvidas para a implementação dos circuitos eletrónicos projetados. São também apresentas as especificações técnicas, as normas consideradas para o desenvolvimento das placas e os planos de massa. Por último é apresentado o aspeto final do sistema.\\[6pt]

O capítulo cinco descreve o desenvolvimento da programação da unidade central. São apresentadas as rotinas de programação tanto do módulo GSM como do módulo RF. Neste capítulo é apresentado o desenvolvimento da aplicação \textit{Android} que serve de interface bidirecional entre o utilizador e a U3C.\\[6pt]

Este relatório termina com o capítulo 6. O capítulo inicia com a apresentação dos testes de verificação do funcionamento da U3C, onde as diversas medidas de consumos, temperaturas e integridade das alimentações e sinais são apresentados. O capítulo termina com a apresentação das possíveis melhorias a introduzir no sistema.\\[6pt]
\vfill\thispagestyle{plain}