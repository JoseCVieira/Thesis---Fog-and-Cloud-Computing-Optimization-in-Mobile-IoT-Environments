\documentclass{article}
\usepackage[legalpaper, margin=0.5in]{geometry}

\usepackage[utf8]{inputenc}
\usepackage{natbib}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}

\begin{document}
\newcommand{\SubItem}[1]{
    {\setlength\itemindent{15pt} \item[-] #1}
}

\noindent\textbf{Multi-objective Optimization}\\[12pt]

\noindent\textbf{Features:}\\[6pt]
\begin{itemize}
\item QoS
    \SubItem{uplinkLatency}
    %\SubItem{downlinkLatency}
\item Cost
    \SubItem{costPerCPU}
    \SubItem{costPerMem}
    \SubItem{costPerStorage}
    \SubItem{costPerBw}
\item Energy
    \SubItem{busyPower}
    \SubItem{idlePower}
    \SubItem{uplinkBandwidthUsage * powerConsumption}
    \SubItem{downlinkBandwidthUsage * powerConsumption}
\item Bandwidth
    \SubItem{uplinkBandwidth}
    \SubItem{downlinkBandwidth}\\[12pt]
    
\item Distributed Data Flow
\item Fog nodes mobility
\item IoT devices mobility
\item Migration support
\item Partitioning techniques
\item Data placement optimization
\item Migration Optimization
\end{itemize}
\pagebreak

\noindent\textbf{Problem formulation (simple approach):}\\[6pt]
Based on (adapted): MOERA: Mobility-agnostic Online Resource Allocation for Edge Computing\\[12pt]
\noindent\textbf{Assumptions:}\\[6pt]
\begin{itemize}
    \item System settings change across time slots and remain stable inside every time slot
    \item Users are always connected to the closest fog node
\end{itemize}

\vspace{12pt}
\noindent\textbf{Notations:}\\[6pt]
\begin{itemize}
    \item $h$ time slots $T=\{t_1, ..., t_h\}$
    \item $n$ fog nodes $S=\{s_1, ..., s_n\}$
    \item $m$ users $U=\{u_1, ..., u_m\}$
    \item $S_u \subseteq S$ subset of fog nodes which are located in the close proximity of user $u$ (only them can host modules of that user)\\
    
    \item $l_{u,t}$ location of user $u$ at time $t$
    \item At a certain time $t$, user $u$ is assumed to be connected to the access point at a fog node $S_{u,t}$
    \item $\lambda_u$ total user's application resources
    \item $x_{s,u,t}$ module(s) resources of user $u$ located at fog node $s$ at time $t$ ($\sum_{u=1}^U x_{s,u,t} = \lambda_u$)
    \item $d(s, s')$ delay between fog node $s$ and fog node $s'$ ($d(s, s) \triangleq 0, \forall s \in S$ - delay between the same machine/server is 0)
    \item $d(l_{u,t}, s_{u,t})$ user's access delay
    \item $a_{s,t}$ operation price of fog node $s$ at time $t$
    \item $w^{out}_{s,t} = \sum_{u = 1}^U (x_{s,u,t-1} - x_{s,u,t})_+$ moving work of user $u$ out of fog node $s$
    \item $w^{in}_{s,t} = \sum_{u = 1}^U (x_{s,u,t} - x_{s,u,t-1})_+$ moving work of user $u$ into the fog node $s$\\
    
    \item $b^{out}_{s,t}$ migration price per unit moving out of the fog node $s$ at time $t$
    \item $b^{in}_{s,t}$ migration price per unit moving into the fog node $s$ at time $t$
    \item $C_s$ capacity of edge cloud $s$
\end{itemize}

\vspace{12pt}
\noindent\textbf{Problem formulation:}\\[6pt]
\noindent\textbf{Operational Cost} ($C_O$) is characterized by the resources allocated in each fog node to support all users' computations:
\begin{equation}
    C_O = \sum_{t \in T} \sum_{s \in S} a_{s,t} \sum_{u \in U} x_{s,u,t}
\end{equation}

\vspace{12pt}
\noindent\textbf{Service Quality Cost} ($C_Q$) is characterized by the user perceived quality of service, which depends on the access delay, $d(l_{u,t}, s_{u,t})$, and the sum of the delays between the access fog node and each fog node hosting modules of that user's application:
\begin{equation}
    C_Q = \sum_{t \in T} \sum_{u \in U} \left(d(l_{u,t}, s_{u,t}) + \sum_{s \in S_u} x_{s,u,t} \times d(s_{u,t}, s')\right)
\end{equation}

\vspace{12pt}
\noindent\textbf{Migration Cost} ($C_M$) is characterized by the cost of migrating users' modules out or into the fog nodes:
\begin{equation}
    C_M = \sum_{t \in T} \sum_{s \in S} b^{out}_{s,t}w^{out}_{s,t} + b^{in}_{s,t}w^{in}_{s,t}
\end{equation}

\vspace{12pt}
\noindent\textbf{Final problem:}\\[6pt]
\begin{equation} 
    \begin{array}[t]{ll} 
        \underset{x}{\text{minimize}} & C = C_O + C_Q + C_M \\
        
        \text{subject to} & \sum_{s \in S_u} x_{s,u,t} = \lambda_u, \forall u, \forall t \\[6pt]
        & \sum_{u \in U} x_{s,u,t} \leq C_s, \forall s, \forall t \\[6pt]
        & x_{s,u,t} \geq 0, \forall s, \forall u, \forall t
    \end{array}
\end{equation}
\pagebreak

\noindent\textbf{Second approach:}\\[6pt]
\vspace{12pt}
\noindent\textbf{Assumptions:}\\[6pt]
\begin{itemize}
    \item System settings change across time slots and remain stable inside every time slot
    \item Users are always connected to the closest fog node
    \item Application is characterized by a constant MIPS/sec
\end{itemize}

\vspace{12pt}
\noindent\textbf{Notations:}\\[6pt]
\begin{itemize}
    \item $h$ time slots $T=\{t_1, ..., t_h\}$
    \item $n$ fog nodes $S=\{s_1, ..., s_n\}$
    \item $m$ users $U=\{u_1, ..., u_m\}$
    \item $S_u \subseteq S$ subset of fog nodes which are located in the close proximity of user $u$ (only them can host modules of that user)\\
    
    \item $l_{u,t}$ location of user $u$ at time $t$
    \item $S_{u,t}$ user $u$ is connected to some fog node at time $t$
    \item $d(s, s')$ delay between fog node $s$ and fog node $s'$ ($d(s, s) \triangleq 0, \forall s \in S$ - delay between the same machine/server is 0)
    \item $d(l_{u,t}, s_{u,t})$ user's access delay\\
    
    \item $C^{MIPS}_{s}$ MIPS capacity of fog node $s$
    \item $C^{MEM}_{s}$ memory capacity of fog node $s$
    \item $C^{STRG}_{s}$ storage capacity of fog node $s$
    \item $C^{BW_{up}}_{s}$ up-link bandwidth capacity of fog node $s$
    \item $C^{BW_{down}}_{s}$ down-link bandwidth capacity of fog node $s$\\
    
    \item $a^{MIPS}_{s,t}$ MIPS price of fog node $s$ per unit
    \item $a^{MEM}_{s,t}$ memory price of fog node $s$ per unit
    \item $a^{STRG}_{s,t}$ storage price of fog node $s$ per unit
    \item $a^{BW_{up}}_{s,t}$ up-link bandwidth price of fog node $s$ per unit
    \item $a^{BW_{down}}_{s,t}$ down-link bandwidth price of fog node $s$ per unit
    %\item $PW^{BW_{up}}_{s,t}$ up-link bandwidth power consumption of fog node $s$ per unit
    %\item $PW^{BW_{down}}_{s,t}$ down-link bandwidth power consumption of fog node $s$ per unit
    \item $a^b_{s,t}$ busy power consumption at fog node $s$
    \item $a^i_{s,t}$ idle power consumption at fog node $s$\\
    
    \item $\lambda^{MIPS}_{u,t}$ MIPS user $u$ needs at time $t$
    \item $\lambda^{MEM}_{u,t}$ memory user $u$ needs at time $t$
    \item $\lambda^{STRG}_{u,t}$ storage user $u$ needs at time $t$
    \item $\lambda^{BW_{up}}_{u,t}$ up-link bandwidth user $u$ needs at time $t$
    \item $\lambda^{BW_{down}}_{u,t}$ down-link bandwidth user $u$ needs at time $t$\\
    
    \item $x^{MIPS}_{s,u,t}$ user $u$ allocates some MIPS at fog node $s$ at time $t$
    \item $x^{MEM}_{s,u,t}$ user $u$ allocates some memory at fog node $s$ at time $t$
    \item $x^{STRG}_{s,u,t}$ user $u$ allocates some storage at fog node $s$ at time $t$
    \item $x^{BW_{up}}_{s,u,t}$ user $u$ allocates some up-link bandwidth at fog node $s$ at time $t$
    \item $x^{BW_{down}}_{s,u,t}$ user $u$ allocates some down-link bandwidth at fog node $s$ at time $t$\\
    
    \item $b^{out}_{s,t}$ migration price per unit moving out of the fog node $s$ at time $t$
    \item $b^{in}_{s,t}$ migration price per unit moving into the fog node $s$ at time $t$
\end{itemize}

\pagebreak
\noindent\textbf{Problem formulation:}\\[6pt]
The cost function is mainly characterized by three components: Operational Cost, Service Quality Cost, and Migration Cost.\\[6pt]

\noindent\textbf{Operational Cost} ($C_O$) is characterized by the resources allocated in each fog node to support all users' computations, namely: CPU, memory, storage, bandwidth (all communications except for migration), busy/idle power.
\begin{equation}
    C_O = \sum_{t \in T} \sum_{s \in S} \left( c_{mips} + c_{mem} + c_ {strg} + c_{bw_{up}}+ c_{bw_{down}} + a_{s,t}\right)
\end{equation}
Where:

\begin{gather}
    c_{mips} = a^{MIPS}_{s,t} \times \sum_{u \in U} x^{MIPS}_{s,u,t}\\[6pt]
    c_{mem} =  a^{MEM}_{s,t} \times \sum_{u \in U} x^{MEM}_{s,u,t}\\[6pt]
    c_ {strg} =  a^{STRG}_{s,t} \times \sum_{u \in U} x^{STRG}_{s,u,t}\\[6pt]
    c_{bw_{up}} = a^{BW_{up}}_{s,t} \times \sum_{u \in U} x^{BW_{up}}_{s,u,t}\\[6pt]
    c_{bw_{down}} = a^{BW_{down}}_{s,t} \times \sum_{u \in U} x^{BW_{down}}_{s,u,t}\\[6pt]
    a_{s,t} = \left\{ \begin{array}{ll} a^i_{s,t}, & \text{ if }\sum_{u=1}^Ux^{MIPS}_{s,u,t} = 0 \\[6pt]
    a^b_{s,t}, & \text{ \text{ otherwise } } \end{array} \right.
\end{gather}

\vspace{12pt}
\noindent\textbf{Service Quality Cost} ($C_Q$) is characterized by the user perceived quality of service, which depends on the access delay, $d(l_{u,t}, s_{u,t}$, and the sum of the delays between the access fog node and each fog node hosting modules of that user's application. The allocated bandwidth by the user in each fog node acts as a weight as follows:
\begin{equation}
    C_Q = \sum_{t \in T} \sum_{u \in U} \left(d(l_{u,t}, s_{u,t})(x^{BW_{up}}_{s,u,t} + x^{BW_{down}}_{s,u,t}) + \sum_{s \in S_u} x_{s,u,t} \times d(s_{u,t}, s') (x^{BW_{up}}_{s',u,t} + x^{BW_{down}}_{s',u,t})\right)
\end{equation}

\vspace{12pt}
\noindent\textbf{Migration Cost} ($C_M$) is characterized by the cost of migrating users' modules out or into the fog nodes:
\begin{equation}
    C_M = \sum_{t \in T} \sum_{s \in S} b^{out}_{s,t}w^{out}_{s,t} + b^{in}_{s,t}w^{in}_{s,t}
\end{equation}
\noindent Where:
\begin{gather}
    w^{out}_{s,t} = \sum_{u \in U} \left((x^{MEM}_{s,u,t-1} - x^{MEM}_{s,u,t})_+ + (x^{STRG}_{s,u,t-1} - x^{STRG}_{s,u,t})_+\right),\\[6pt]
    w^{in}_{s,t} = \sum_{u \in U} \left((x^{MEM}_{s,u,t} - x^{MEM}_{s,u,t-1})_+ + (x^{STRG}_{s,u,t} - x^{STRG}_{s,u,t-1})_+\right),\\[6pt]
    b^{out}_{s,t} = a^{BW_{down}}_{s,t} \times \frac{1}{C^{BW_{down}}_{s}},\\[6pt]
    b^{int}_{s,t} = a^{BW_{up}}_{s,t} \times \frac{1}{C^{BW_{up}}_{s}}
\end{gather}

\pagebreak
\noindent\textbf{Final problem:}\\[6pt]
\begin{equation*}
\begin{aligned}
& \underset{X}{\text{minimize}}
& & C = \alpha C_O + \beta C_Q + \gamma C_M \\
& \text{subject to}
& & \sum_{s=1}^{S_u} x^{MIPS}_{s,u,t} \geqq \lambda^{MIPS}_{u,t}, \forall u, \forall t, \\
&&& \sum_{s=1}^{S_u} x^{MEM}_{s,u,t} = \lambda^{MEM}_{u,t}, \forall u, \forall t, \\
&&& \sum_{s=1}^{S_u} x^{STRG}_{s,u,t} = \lambda^{STRG}_{u,t}, \forall u, \forall t, \\
&&& \sum_{s=1}^{S_u}x^{BW_{up}}_{s,u,t} \geqq \lambda^{BW_{up}}_{u,t}, \forall u, \forall t, \\
&&& \sum_{s=1}^{S_u}x^{BW_{down}}_{s,u,t} \geqq \lambda^{BW_{down}}_{u,t}, \forall u, \forall t, \\
&&& \sum_{u=1}^U x^{MIPS}_{s,u,t} \leq C^{MIPS}_{s}, \forall s, \forall t, \\
&&& \sum_{u=1}^U x^{MEM}_{s,u,t} \leq C^{MEM}_{s}, \forall s, \forall t, \\
&&& \sum_{u=1}^U x^{STRG}_{s,u,t} \leq C^{STRG}_{s}, \forall s, \forall t, \\
&&& \sum_{u=1}^U x^{BW_{up}}_{s,u,t} \leq C^{BW_{up}}_{s}, \forall s, \forall t, \\
&&& \sum_{u=1}^U x^{BW_{down}}_{s,u,t} \leq C^{BW_{down}}_{s}, \forall s, \forall t, \\[6pt]
&&& x^{MIPS}_{s,u,t} \geq 0, \forall u, \forall t, \\[6pt]
&&& x^{MEM}_{s,u,t} \geq 0, \forall u, \forall t, \\[6pt]
&&& x^{STRG}_{s,u,t} \geq 0, \forall u, \forall t, \\[6pt]
&&& x^{BW_{up}}_{s,u,t} \geq 0, \forall u, \forall t, \\[6pt]
&&& x^{BW_{down}}_{s,u,t} \geq 0, \forall u, \forall t.
\end{aligned}
\end{equation*}

\end{document}